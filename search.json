[{"path":"https://popecol.github.io/rangr/CONTRIBUTING.html","id":null,"dir":"","previous_headings":"","what":"Contributing to rangr","title":"Contributing to rangr","text":"outlines propose change rangr. Note package initially stable state development, great deal active subsequent development envisioned.","code":""},{"path":"https://popecol.github.io/rangr/CONTRIBUTING.html","id":"fixing-typos","dir":"","previous_headings":"","what":"Fixing typos","title":"Contributing to rangr","text":"can fix typos, spelling mistakes, grammatical errors documentation directly using GitHub web interface, long changes made source file. generally means ’ll need edit roxygen2 comments .R, .Rd file. can find .R file generates .Rd comment first line code.","code":""},{"path":"https://popecol.github.io/rangr/CONTRIBUTING.html","id":"bigger-changes","dir":"","previous_headings":"","what":"Bigger changes","title":"Contributing to rangr","text":"want make bigger change, ’s good idea first file issue make sure someone team agrees ’s needed. ’ve found bug, please file issue illustrates bug minimal reprex (also help write unit test, needed).","code":""},{"path":"https://popecol.github.io/rangr/CONTRIBUTING.html","id":"pull-request-process","dir":"","previous_headings":"Bigger changes","what":"Pull request process","title":"Contributing to rangr","text":"Fork package clone onto computer. haven’t done , recommend using usethis::create_from_github(\"popecol/rangr\", fork = TRUE). Install development dependencies devtools::install_dev_deps(), make sure package passes R CMD check running devtools::check(). R CMD check doesn’t pass cleanly, ’s good idea ask help continuing. Create Git branch pull request (PR). recommend using usethis::pr_init(\"brief-description--change\"). Make changes, commit git, create PR running usethis::pr_push(), following prompts browser. title PR briefly describe change. body PR contain Fixes #issue-number.","code":""},{"path":"https://popecol.github.io/rangr/CONTRIBUTING.html","id":"code-style","dir":"","previous_headings":"Bigger changes","what":"Code style","title":"Contributing to rangr","text":"New code follow rOpenSci style suggestions. can use styler package apply styles, please don’t restyle code nothing PR. use roxygen2, Markdown syntax, documentation. use testthat unit tests. Contributions test cases included easier accept.","code":""},{"path":"https://popecol.github.io/rangr/CONTRIBUTING.html","id":"code-of-conduct","dir":"","previous_headings":"","what":"Code of Conduct","title":"Contributing to rangr","text":"Please note rangr project released Contributor Code Conduct. contributing project agree abide terms.","code":""},{"path":"https://popecol.github.io/rangr/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2020 Katarzyna Markowska; Lechosław Kuczyński Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://popecol.github.io/rangr/articles/rangr.html","id":"about-rangr","dir":"Articles","previous_headings":"","what":"About rangr","title":"How to use rangr?","text":"vignette shows example basic use rangr package. main goal tool simulate species range dynamics. simulations can performed spatially explicit dynamic environment, allowing projections populations respond e.g. climate land use changes. Additionally, implementing various sampling methods observational error distributions, can accurately reflect structure original survey data simulate random sampling. , showcase full capabilities package, creating virtual species performing simulation visualization results.","code":""},{"path":"https://popecol.github.io/rangr/articles/rangr.html","id":"basic-workflow","dir":"Articles","previous_headings":"","what":"Basic workflow","title":"How to use rangr?","text":"chapter show perform basic simulation using maps provided package.","code":""},{"path":"https://popecol.github.io/rangr/articles/rangr.html","id":"installing-the-package","dir":"Articles","previous_headings":"Basic workflow","what":"Installing the package","title":"How to use rangr?","text":"First need install load rangr package. Since maps simulation takes place SpatRaster format, also install load terra package facilitate manipulation visualisation.","code":"# install.packages(\"rangr\") library(rangr) # install.packages(\"terra\") library(terra)"},{"path":"https://popecol.github.io/rangr/articles/rangr.html","id":"input-maps","dir":"Articles","previous_headings":"Basic workflow","what":"Input maps","title":"How to use rangr?","text":"One important input parameters simulation maps specifying abundance virtual species starting point simulation carrying capacity environment simulation takes place. section, generate scratch. Instead, use maps provided package. Example maps available rangr: n1_small.tif n1_big.tif K_small.tif K_small_changing.tif K_big.tif Note input maps must Cartesian coordinate system. can find additional information data sets help files: use two datasets right now: n1_small.tif - abundance starting point, K_small.tif - carrying capacity. read data can use rast function terra package: Since maps refer virtual case real environment (small region located northwestern Poland), must dimensions, resolution, geographical projection etc. differences may values contain number layers. can use multiple layers carrying capacity map create dynamic environment simulation, example, demonstrate static environment. Let’s take closer look : , can see dimensions basic characteristics sample maps. field differs maps value field. Now use plot function visualise input maps get even better idea ’re working . Input maps Several things noticeable : shape maps, cases, upper left corner map excluded simulation area treated outside map’s extent. create irregular shape, NA must assigned particular cell group cells. initial population located lower right corner simulation area occupies two cells. contains 10 individuals (can use values() function check). carrying capacity map areas unsuitable presented virtual species, well areas can positive population growth rate.","code":"?n1_small.tif ?K_small.tif n1_small <- rast(system.file(\"input_maps/n1_small.tif\", package = \"rangr\")) K_small <-  rast(system.file(\"input_maps/K_small.tif\", package = \"rangr\")) n1_small #> class       : SpatRaster  #> dimensions  : 15, 10, 1  (nrow, ncol, nlyr) #> resolution  : 1000, 1000  (x, y) #> extent      : 270000, 280000, 610000, 625000  (xmin, xmax, ymin, ymax) #> coord. ref. : ETRS89 / Poland CS92  #> source      : n1_small.tif  #> name        : layer  #> min value   :     0  #> max value   :    10 K_small #> class       : SpatRaster  #> dimensions  : 15, 10, 1  (nrow, ncol, nlyr) #> resolution  : 1000, 1000  (x, y) #> extent      : 270000, 280000, 610000, 625000  (xmin, xmax, ymin, ymax) #> coord. ref. : ETRS89 / Poland CS92  #> source      : K_small.tif  #> name        : layer  #> min value   :     0  #> max value   :   100 plot(c(n1_small, K_small))"},{"path":"https://popecol.github.io/rangr/articles/rangr.html","id":"initialise","dir":"Articles","previous_headings":"Basic workflow","what":"Initialise","title":"How to use rangr?","text":"Now input maps, use initialise() function set input parameters generate sim_data object contain necessary information perform simulation. basic initialise() call look follows: Let’s break command: n1_map K_map refer input maps described earlier. r parameter used set intrinsic population growth rate. default population growth function Gompetz function. rate parameter related kernel_fun parameter, default set exponential function (rexp). Therefore, rate determines shape dispersal function. way determined simulation environment along demographic processes dispersal. ’s basic set-needed perform first simulation just next step. , let’s see information sim_data contains happened behind scene initialisation. First, let’s check class sim_data object: can see sim_data sim_data object inherits list objects possible change values object hand. However, strongly encourage use update() function instead avoid errors problems data integration. take closer look sim_data can also use print() summary() function: show summary input maps, well list important parameters r set earlier.","code":"sim_data_01 <- initialise(   n1_map = n1_small,   K_map = K_small,   r = log(2),   rate = 1 / 1e3 ) class(sim_data_01) #> [1] \"sim_data\" \"list\" summary(sim_data_01) #> Summary of sim_data object #>  #> n1 map summary:  #>    Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's  #>  0.0000  0.0000  0.0000  0.1449  0.0000 10.0000      12  #>  #> Carrying capacity map summary:  #>    Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's  #>    0.00    0.00   56.00   44.84   72.00  100.00      12  #>                                #> growth                gompertz #> r            0.693147180559945 #> A                            - #> kernel_fun                rexp #> dens_dep                   K2N #> border               absorbing #> max_dist                  2000 #> changing_env             FALSE #> dlist                     TRUE"},{"path":"https://popecol.github.io/rangr/articles/rangr.html","id":"simulation","dir":"Articles","previous_headings":"Basic workflow","what":"Simulation","title":"How to use rangr?","text":"need perform simulation sim_data object specified number time steps want simulate. Additionally, can use burn parameter discard selected number initial time steps makes sense research experiment. first example, set time parameter since want observe virtual species dispersing reproducing. check class returned object: Similar initialise, sim also returns object inherits list, case called sim_results. list 3 elements : extinction - TRUE population extinct FALSE otherwise simulated_time - number simulated time steps without burn-ones N_map - 3-dimensional array representing spatiotemporal variability population numbers. first two dimensions correspond spatial aspect output third dimension represents time. best way take closer look results call summary function.  gives quick easy overview simulation results providing simulation time, extinction status summary maps abundances. also produces plot can useful determine value burn parameter.","code":"sim_result_01 <- sim(obj = sim_data_01, time = 100) class(sim_result_01) #> [1] \"sim_results\" \"list\" summary(sim_result_01) #> Summary of sim_results object #>  #> Simulation summary:  #>                      #> simulated time   100 #> extinction     FALSE #>  #> Abundances summary:  #>    Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's  #>    0.00    0.00   12.00   10.45   19.00   54.00    1200"},{"path":"https://popecol.github.io/rangr/articles/rangr.html","id":"visualisation","dir":"Articles","previous_headings":"Basic workflow","what":"Visualisation","title":"How to use rangr?","text":"rangr provided easy way visualise chosen time steps simulation. can use generic plot function: Abundances can also adjust parameters get breaks colorscale: Abundances prefer working raster can also transform sim_result object SpatRaster using to_rast() function: visualise using plot() function: Abundances","code":"plot(sim_result_01,   time_points = c(1, 10, 25, 50),   template = sim_data_01$K_map ) #> class       : SpatRaster  #> dimensions  : 15, 10, 4  (nrow, ncol, nlyr) #> resolution  : 1000, 1000  (x, y) #> extent      : 270000, 280000, 610000, 625000  (xmin, xmax, ymin, ymax) #> coord. ref. : ETRS89 / Poland CS92  #> source(s)   : memory #> names       : t_1, t_10, t_25, t_50  #> min values  :   0,    0,    0,    0  #> max values  :  10,   19,   27,   36 plot(sim_result_01,   time_points = c(1, 10, 25, 50),   breaks = seq(0, max(sim_result_01$N_map + 5, na.rm = TRUE), by = 5),   template = sim_data_01$K_map ) #> class       : SpatRaster  #> dimensions  : 15, 10, 4  (nrow, ncol, nlyr) #> resolution  : 1000, 1000  (x, y) #> extent      : 270000, 280000, 610000, 625000  (xmin, xmax, ymin, ymax) #> coord. ref. : ETRS89 / Poland CS92  #> source(s)   : memory #> names       : t_1, t_10, t_25, t_50  #> min values  :   0,    0,    0,    0  #> max values  :  10,   19,   27,   36 # raster construction my_rast <- to_rast(   sim_result_01,   time_points = 1:sim_result_01$simulated_time,   template = sim_data_01$K_map )  # print raster print(my_rast) #> class       : SpatRaster  #> dimensions  : 15, 10, 100  (nrow, ncol, nlyr) #> resolution  : 1000, 1000  (x, y) #> extent      : 270000, 280000, 610000, 625000  (xmin, xmax, ymin, ymax) #> coord. ref. : ETRS89 / Poland CS92  #> source(s)   : memory #> names       : t_1, t_2, t_3, t_4, t_5, t_6, ...  #> min values  :   0,   0,   0,   0,   0,   0, ...  #> max values  :  10,  11,  14,  16,  20,  13, ... # plot selected time points plot(my_rast, c(1, 10, 25, 50))"},{"path":"https://popecol.github.io/rangr/articles/rangr.html","id":"more-advanced-workflow","dir":"Articles","previous_headings":"","what":"More advanced workflow","title":"How to use rangr?","text":"previous workflow pretty basic. Now present advanced one use show parameters options.","code":""},{"path":[]},{"path":"https://popecol.github.io/rangr/articles/rangr.html","id":"abundances-at-the-first-time-step","dir":"Articles","previous_headings":"More advanced workflow > Input maps","what":"Abundances at the first time step","title":"How to use rangr?","text":"mentioned earlier, rangr ability simulate virtual species changing environment example show . better illustration, start populated map previously used n1_small. easiest way use abundances last time step previous simulation input current one. can done follows:","code":"n1_small_02 <- n1_small values(n1_small_02) <- (sim_result_01$N_map[, , 100])"},{"path":"https://popecol.github.io/rangr/articles/rangr.html","id":"carrying-capacity","dir":"Articles","previous_headings":"More advanced workflow > Input maps","what":"Carrying capacity","title":"How to use rangr?","text":"simulate changing environment need specify changes want. Essentially, need carrying capacity map every time step simulation. can generate can generate maps key time steps (least first last one) use K_get_interpolation() generate missing ones. choose second option use K_small_changing object comes rangr purpose. can see summary: can see carrying capacity increases map, meaning environment becoming suitable virtual species. also worth noting first layer K_small_changing K_small. , can visualise input maps using plot function: Input maps raster 3 layers can either perform simulation 3 time steps (seems rather pointless) , mentioned, use K_get_interpolation() function generate maps time step. example, perform 200 time steps need 200 maps. first last layers K_small_changing corresponding first last time steps middle one can assigned time step . Additionally, give virtual species time adjust new parameters, first carrying capacity maps . duplicate first layer K_small_changing. Therefore, layers corresponding time points follows: 1st layer K_small_changing - 1st time step, duplicated 1st layer K_small_changing - 20th time step, 2nd layer K_small_changing - 80th time step, 3rd layer K_small_changing - 200th time step. translates stable environment 1-20 time steps, rapidly increasing carrying capacity 20-80 time steps slowly rising carrying capacity 80-200 time steps. Interpolation results completes preparation input maps needed example. Now select values parameters.","code":"K_small_changing <- rast(system.file(\"input_maps/K_small_changing.tif\",                                       package = \"rangr\")) K_small_changing #> class       : SpatRaster  #> dimensions  : 15, 10, 3  (nrow, ncol, nlyr) #> resolution  : 1000, 1000  (x, y) #> extent      : 270000, 280000, 610000, 625000  (xmin, xmax, ymin, ymax) #> coord. ref. : ETRS89 / Poland CS92  #> source      : K_small_changing.tif  #> names       : layer.1, layer.2, layer.3  #> min values  :       0,       0,       0  #> max values  :     100,     130,     170 plot(c(n1_small_02, K_small_changing),      range = range(values(c(n1_small_02, K_small_changing)), na.rm = TRUE),      main = c(\"n1\", paste0(\"K\", 1:nlyr(K_small_changing)))) # duplicate 1st layer of K_small_changing K_small_changing_altered <- c(K_small, K_small_changing)  # interpolate to generate maps for each time step K_small_changing_interpolated <- K_get_interpolation(   K_small_changing_altered,    K_time_points = c(1, 20, 80, 200)) #> Warning in K_check(K_map, K_time_points, time): Argument \"time\" is no specified #> - last number from \"K_time_points\" is used as \"time\" K_small_changing_interpolated #> class       : SpatRaster  #> dimensions  : 15, 10, 200  (nrow, ncol, nlyr) #> resolution  : 1000, 1000  (x, y) #> extent      : 270000, 280000, 610000, 625000  (xmin, xmax, ymin, ymax) #> coord. ref. : ETRS89 / Poland CS92  #> source(s)   : memory #> names       : lyr.1, lyr.2, lyr.3, lyr.4, lyr.5, lyr.6, ...  #> min values  :     0,     0,     0,     0,     0,     0, ...  #> max values  :   100,   100,   100,   100,   100,   100, ... # visualise results vis_layers <- c(1, 20, 30, seq(50, 200, by = 20), 200) plot(subset(K_small_changing_interpolated, subset = vis_layers),      range = range(values(K_small_changing_interpolated), na.rm = TRUE),       main = paste0(\"K\", vis_layers), )"},{"path":"https://popecol.github.io/rangr/articles/rangr.html","id":"initialise-using-update-function","dir":"Articles","previous_headings":"More advanced workflow","what":"Initialise (using update function)","title":"How to use rangr?","text":"First let’s look sim_data object previous chapter: information input maps can see list parameters available change. alter following ones: r - intrinsic growth rate, r_sd - intrinsic growth rate stochasticity, K_sd - environmental stochasticity, growth - growth function virtual species, - strength Allee effect, dens_dep - determines possibility settling particular cell, border - borders treated. change parameters (along carrying capacity map prepared previous section) simply initialise new sim_data object scratch. use update() sim_data previous example showcase use. growth virtual species now defined using ricker (growth = \"ricker\") function increased intrinsic growth rate (r = log(5)) combined weak Allee effect (= 0.2) added demographic stochasticity (r_sd = 0.05). probability settlement target cell determined solely carrying capacity value (dens_dep = \"K\"). also changed dispersal kernel’s parameter (rate = 1/500) behaviour species near borders - now specimens leave specified study area (border = \"reprising\").","code":"print(sim_data_01) #> Class: sim_data #>  #> n1_map: #>    Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's  #>  0.0000  0.0000  0.0000  0.1449  0.0000 10.0000      12  #>  #> K_map: #> class       : SpatRaster  #> dimensions  : 15, 10, 1  (nrow, ncol, nlyr) #> resolution  : 1000, 1000  (x, y) #> extent      : 270000, 280000, 610000, 625000  (xmin, xmax, ymin, ymax) #> coord. ref. : ETRS89 / Poland CS92  #> source(s)   : memory #> name        : layer  #> min value   :     0  #> max value   :   100  #>                              #> resolution              1000 #> r          0.693147180559945 #> r_sd                       0 #> K_sd                       0 #> growth              gompertz #> A                          - #> dens_dep                 K2N #> border             absorbing #> max_dist                2000 #> kernel_fun              rexp #> dlist                   TRUE sim_data_02 <- update(sim_data_01,   n1_map = K_small,   K_map = K_small_changing_interpolated,   K_sd = 1.1,   r = log(5),   r_sd = 0.05,   growth = \"ricker\",   A = 0.2,   dens_dep = \"K\",   border = \"reprising\",   rate = 1 / 500 ) print(sim_data_02) #> Class: sim_data #>  #> n1_map: #>    Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's  #>    0.00    0.00   56.00   44.84   72.00  100.00      12  #>  #> K_map: #> class       : SpatRaster  #> dimensions  : 15, 10, 200  (nrow, ncol, nlyr) #> resolution  : 1000, 1000  (x, y) #> extent      : 270000, 280000, 610000, 625000  (xmin, xmax, ymin, ymax) #> coord. ref. : ETRS89 / Poland CS92  #> source(s)   : memory #> names       :    lyr.1,    lyr.2,    lyr.3,    lyr.4,    lyr.5,    lyr.6, ...  #> min values  :  0.00000,   0.0000,   0.0000,   0.0000,   0.0000,   0.0000, ...  #> max values  : 98.97829, 104.7768, 124.1069, 110.6544, 138.7362, 113.8916, ...  #>                            #> resolution            1000 #> r          1.6094379124341 #> r_sd                  0.05 #> K_sd                   1.1 #> growth              ricker #> A                      0.2 #> dens_dep                 K #> border           reprising #> max_dist              1000 #> kernel_fun            rexp #> dlist                 TRUE"},{"path":"https://popecol.github.io/rangr/articles/rangr.html","id":"simulation-1","dir":"Articles","previous_headings":"More advanced workflow","what":"Simulation","title":"How to use rangr?","text":"Simulation set-similar previous one. designed way order simplify process simulation replication. also now demonstrate parallel calculations can used running simulations:  Now behaviour created virtual species world lives much complex . result, can better mimic real ecological scenarios users might want explore. case, observe decline mean abundance first time steps simulation due change parameters previous simulation. , see rapidly increasing trend catch increasing carrying capacity, slightly slows later.","code":"library(parallel) cl <- makeCluster(detectCores() - 2)  sim_result_02 <-    sim(obj = sim_data_02, time = 200, progress_bar = TRUE, cl = cl)  stopCluster(cl) summary(sim_result_02) #> Summary of sim_results object #>  #> Simulation summary:  #>                      #> simulated time   200 #> extinction     FALSE #>  #> Abundances summary:  #>    Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's  #>    0.00    0.00   47.00   40.71   72.00  148.00    2400"},{"path":"https://popecol.github.io/rangr/articles/rangr.html","id":"visualisation-1","dir":"Articles","previous_headings":"More advanced workflow","what":"Visualisation","title":"How to use rangr?","text":"Let’s visualise result simulation. Abundances","code":"plot(sim_result_02,   time_points = c(1, 10, seq(20, 200, by = 20)),   breaks = seq(0, max(sim_result_02$N_map + 5, na.rm = TRUE), by = 20),   template = sim_data_02$K_map ) #> class       : SpatRaster  #> dimensions  : 15, 10, 12  (nrow, ncol, nlyr) #> resolution  : 1000, 1000  (x, y) #> extent      : 270000, 280000, 610000, 625000  (xmin, xmax, ymin, ymax) #> coord. ref. : ETRS89 / Poland CS92  #> source(s)   : memory #> names       : t_1, t_10, t_20, t_40, t_60, t_80, ...  #> min values  :   0,    0,    0,    0,    0,    0, ...  #> max values  : 100,   72,   75,   78,  107,  114, ..."},{"path":"https://popecol.github.io/rangr/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Katarzyna Markowska. Author, maintainer. Lechosław Kuczyński. Author.","code":""},{"path":"https://popecol.github.io/rangr/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Markowska K. Kuczyński L. (2023). rangr: simulating range dynamics virtual species. R package version 0.1.0. https://popecol.github.io/rangr/","code":"@Manual{,   title = {rangr: simulating range dynamics of virtual species},   author = {Katarzyna Markowska and Lechosław Kuczyński},   year = {2023},   note = {R package version 0.1.0},   url = {https://github.com/popecol/rangr}, }"},{"path":"https://popecol.github.io/rangr/index.html","id":"rangr","dir":"","previous_headings":"","what":"Mechanistic Simulation of Species Range Dynamics","title":"Mechanistic Simulation of Species Range Dynamics","text":"rangr package designed simulate species range dynamics. new tool mimics essential processes shape population size spatial distributions: local dynamics, dispersal habitat selection. Simulations may conducted spatially-explicit dynamic environment, facilitates population projections respond climate land-use changes. using different sampling schemes observational error distributions, structure original survey data can reproduced purely random sampling can mimicked. study supported National Science Centre, Poland, grant . 2018/29/B/NZ8/00066.","code":""},{"path":[]},{"path":"https://popecol.github.io/rangr/index.html","id":"released-version","dir":"","previous_headings":"","what":"Released version","title":"Mechanistic Simulation of Species Range Dynamics","text":"rangr released yet ’re working .","code":""},{"path":"https://popecol.github.io/rangr/index.html","id":"development-version","dir":"","previous_headings":"","what":"Development version","title":"Mechanistic Simulation of Species Range Dynamics","text":"can install development version GitHub :","code":"# devtools::install_github(\"popecol/rangr\")"},{"path":"https://popecol.github.io/rangr/index.html","id":"basic-simulation","dir":"","previous_headings":"","what":"Basic simulation","title":"Mechanistic Simulation of Species Range Dynamics","text":"’s example use rangr package.","code":""},{"path":"https://popecol.github.io/rangr/index.html","id":"input-maps","dir":"","previous_headings":"","what":"Input maps","title":"Mechanistic Simulation of Species Range Dynamics","text":"Example maps available rangr: n1_small.tif n1_big.tif K_small.tif K_small_changing.tif K_big.tif Note input maps must Cartesian coordinate system. can find additional information data sets help files: Two available datasets, n1_small.tif K_small.tif, represent abundance virtual species starting point simulation carrying capacity environment, respectively. objects refer relatively small area, ideal demonstrating usage package. view maps dimensions, can use following commands: can also use plot function terra package visualize maps:","code":"library(rangr)  ?n1_small.tif ?K_small.tif library(terra) #> terra 1.7.29  n1_small <- rast(system.file(\"input_maps/n1_small.tif\", package = \"rangr\")) K_small <-  rast(system.file(\"input_maps/K_small.tif\", package = \"rangr\")) plot(c(n1_small, K_small))"},{"path":"https://popecol.github.io/rangr/index.html","id":"initialise","dir":"","previous_headings":"","what":"Initialise","title":"Mechanistic Simulation of Species Range Dynamics","text":"create sim_data object contains necessary information perform simulation, use initialise() function. example: , set intrinsic population growth rate log(2) rate parameter related kernel function describing dispersal 1/1e3. see summary sim_data object:","code":"sim_data_01 <- initialise(   n1_map = n1_small,   K_map = K_small,   r = log(2),   rate = 1 / 1e3 ) #> NaN values were found in input maps and replaced with NA (cells outside the study area) summary(sim_data_01) #> Summary of sim_data object #>  #> n1 map summary:  #>    Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's  #>  0.0000  0.0000  0.0000  0.1449  0.0000 10.0000      12  #>  #> Carrying capacity map summary:  #>    Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's  #>    0.00    0.00   56.00   44.84   72.00  100.00      12  #>                                #> growth                gompertz #> r            0.693147180559945 #> A                            - #> kernel_fun                rexp #> dens_dep                   K2N #> border               absorbing #> max_dist                  2000 #> changing_env             FALSE #> dlist                     TRUE"},{"path":"https://popecol.github.io/rangr/index.html","id":"simulation","dir":"","previous_headings":"","what":"Simulation","title":"Mechanistic Simulation of Species Range Dynamics","text":"perform simulation, use sim() function, takes sim_data object specified number time steps input parameters. example: see summary sim_result_01 object:  Note simple example many parameters can set initialise() sim(). See documentation rangr package information.","code":"sim_result_01 <- sim(obj = sim_data_01, time = 100) summary(sim_result_01) #> Summary of sim_results object #>  #> Simulation summary:  #>                      #> simulated time   100 #> extinction     FALSE #>  #> Abundances summary:  #>    Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's  #>    0.00    0.00   12.00   10.45   19.00   54.00    1200"},{"path":"https://popecol.github.io/rangr/index.html","id":"visualisation","dir":"","previous_headings":"","what":"Visualisation","title":"Mechanistic Simulation of Species Range Dynamics","text":"can use rangr visualise chosen time steps simulation. plot() function used generate visualisation. ’s example:  can adjust breaks parameter get breaks colorscale:  prefer working raster can also transform sim_result object SpatRaster using to_rast() function: visualise using plot() function:","code":"# generate visualisation plot(sim_result_01,   time_points = c(1, 10, 25, 50),   template = sim_data_01$K_map ) #> class       : SpatRaster  #> dimensions  : 15, 10, 4  (nrow, ncol, nlyr) #> resolution  : 1000, 1000  (x, y) #> extent      : 270000, 280000, 610000, 625000  (xmin, xmax, ymin, ymax) #> coord. ref. : ETRS89 / Poland CS92  #> source(s)   : memory #> names       : t_1, t_10, t_25, t_50  #> min values  :   0,    0,    0,    0  #> max values  :  10,   19,   27,   36 # generate visualisation with more breaks plot(sim_result_01,   time_points = c(1, 10, 25, 50),   breaks = seq(0, max(sim_result_01$N_map + 5, na.rm = TRUE), by = 5),   template = sim_data_01$K_map ) #> class       : SpatRaster  #> dimensions  : 15, 10, 4  (nrow, ncol, nlyr) #> resolution  : 1000, 1000  (x, y) #> extent      : 270000, 280000, 610000, 625000  (xmin, xmax, ymin, ymax) #> coord. ref. : ETRS89 / Poland CS92  #> source(s)   : memory #> names       : t_1, t_10, t_25, t_50  #> min values  :   0,    0,    0,    0  #> max values  :  10,   19,   27,   36 # raster construction my_rast <- to_rast(   sim_result_01,   time_points = 1:sim_result_01$simulated_time,   template = sim_data_01$K_map )  # print raster print(my_rast) #> class       : SpatRaster  #> dimensions  : 15, 10, 100  (nrow, ncol, nlyr) #> resolution  : 1000, 1000  (x, y) #> extent      : 270000, 280000, 610000, 625000  (xmin, xmax, ymin, ymax) #> coord. ref. : ETRS89 / Poland CS92  #> source(s)   : memory #> names       : t_1, t_2, t_3, t_4, t_5, t_6, ...  #> min values  :   0,   0,   0,   0,   0,   0, ...  #> max values  :  10,  11,  14,  16,  20,  13, ... # plot selected time points plot(my_rast, c(1, 10, 25, 50))"},{"path":"https://popecol.github.io/rangr/index.html","id":"vignettes","dir":"","previous_headings":"","what":"Vignettes","title":"Mechanistic Simulation of Species Range Dynamics","text":"Workflow examples","code":""},{"path":"https://popecol.github.io/rangr/index.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Mechanistic Simulation of Species Range Dynamics","text":"cite rangr use citation() function: study supported National Science Centre, Poland, grant . 2018/29/B/NZ8/00066.","code":"library(rangr) citation(\"rangr\")"},{"path":"https://popecol.github.io/rangr/reference/K_big.tif.html","id":null,"dir":"Reference","previous_headings":"","what":"Example of carrying capacity map (big) — K_big.tif","title":"Example of carrying capacity map (big) — K_big.tif","text":"SpatRaster object can used carrying capacity map initialise data necessary perform simulation. map compatible n1_big.tif SpatRaster object can used simulation starting point.","code":""},{"path":"https://popecol.github.io/rangr/reference/K_big.tif.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Example of carrying capacity map (big) — K_big.tif","text":"SpatRaster object 100 rows 100 columns containing integer values 0-25 NA's (indicates unsuitable areas).","code":""},{"path":"https://popecol.github.io/rangr/reference/K_big.tif.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Example of carrying capacity map (big) — K_big.tif","text":"Data generated -house serve example (using spatial autocorrelation)","code":""},{"path":"https://popecol.github.io/rangr/reference/K_big.tif.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Example of carrying capacity map (big) — K_big.tif","text":"","code":"system.file(\"input_maps/K_big.tif\", package = \"rangr\") #> [1] \"/home/runner/work/_temp/Library/rangr/input_maps/K_big.tif\""},{"path":"https://popecol.github.io/rangr/reference/K_get_interpolation.html","id":null,"dir":"Reference","previous_headings":"","what":"Prepare time-varying carrying capacity maps — K_get_interpolation","title":"Prepare time-varying carrying capacity maps — K_get_interpolation","text":"function linearly interpolates values series carrying capacity maps.","code":""},{"path":"https://popecol.github.io/rangr/reference/K_get_interpolation.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Prepare time-varying carrying capacity maps — K_get_interpolation","text":"","code":"K_get_interpolation(K_map, K_time_points = NULL, time = NULL)"},{"path":"https://popecol.github.io/rangr/reference/K_get_interpolation.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Prepare time-varying carrying capacity maps — K_get_interpolation","text":"K_map SpatRaster object carrying capacity maps K_time_points K_time_points integer vector; time layer K_map time integer vector length 1; number total time steps required (defined evoking function sim).","code":""},{"path":"https://popecol.github.io/rangr/reference/K_get_interpolation.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Prepare time-varying carrying capacity maps — K_get_interpolation","text":"SpatRaster object number layers equal time","code":""},{"path":"https://popecol.github.io/rangr/reference/K_get_interpolation.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Prepare time-varying carrying capacity maps — K_get_interpolation","text":"simulate dynamic environmental scenarios (.e. climate change, land use change, ecological disturbance, etc.) one needs provide time-varying carrying capacity maps. Either K_time_points time parameter needed calculate interpolation. interpolation  calculated two carrying capacity maps, need pass time points, 1 set starting time point time used ending point. hand, absence time argument, last element K_time_points considered ending point interpolation.","code":""},{"path":"https://popecol.github.io/rangr/reference/K_get_interpolation.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Prepare time-varying carrying capacity maps — K_get_interpolation","text":"","code":"if (FALSE) {  # data preparation library(terra)  n1_small <- rast(system.file(\"input_maps/n1_small.tif\", package = \"rangr\")) K_small_changing <- rast(system.file(\"input_maps/K_small_changing.tif\", package = \"rangr\"))  K_interpolated_01 <- K_get_interpolation(   K_small_changing,   K_time_points = c(1, 10, 15) )  K_two_layers <- subset(   K_small_changing,   c(1, 2) ) K_interpolated_02 <- K_get_interpolation(   K_two_layers,   time = 15 )  }"},{"path":"https://popecol.github.io/rangr/reference/K_small.tif.html","id":null,"dir":"Reference","previous_headings":"","what":"Example of carrying capacity map (small) — K_small.tif","title":"Example of carrying capacity map (small) — K_small.tif","text":"SpatRaster object can used carrying capacity map initialise data necessary perform simulation. map compatible n1_small.tif SpatRaster object can used simulation starting point.","code":""},{"path":"https://popecol.github.io/rangr/reference/K_small.tif.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Example of carrying capacity map (small) — K_small.tif","text":"SpatRaster object 15 rows 10 columns containing integer values 0-100 NA's (indicates unsuitable areas).","code":""},{"path":"https://popecol.github.io/rangr/reference/K_small.tif.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Example of carrying capacity map (small) — K_small.tif","text":"Data generated -house serve example (using spatial autocorrelation)","code":""},{"path":"https://popecol.github.io/rangr/reference/K_small.tif.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Example of carrying capacity map (small) — K_small.tif","text":"","code":"system.file(\"input_maps/K_small.tif\", package = \"rangr\") #> [1] \"/home/runner/work/_temp/Library/rangr/input_maps/K_small.tif\""},{"path":"https://popecol.github.io/rangr/reference/K_small_changing.tif.html","id":null,"dir":"Reference","previous_headings":"","what":"Example of changing carrying capacity maps (small) — K_small_changing.tif","title":"Example of changing carrying capacity maps (small) — K_small_changing.tif","text":"SpatRaster object can used carrying capacity maps initialise data necessary perform simulation. use maps initialise, user first use K_get_interpolation generate map every time step simulation. maps compatible n1_small.tif SpatRaster object can used simulation starting point. subsequent map contains virtual environment greater carrying capacity previous one.","code":""},{"path":"https://popecol.github.io/rangr/reference/K_small_changing.tif.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Example of changing carrying capacity maps (small) — K_small_changing.tif","text":"SpatRaster object 3 layers, 15 rows 10 columns containing integer values 0-170 NA's (indicates unsuitable areas).","code":""},{"path":"https://popecol.github.io/rangr/reference/K_small_changing.tif.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Example of changing carrying capacity maps (small) — K_small_changing.tif","text":"Data generated -house serve example (using spatial autocorrelation)","code":""},{"path":"https://popecol.github.io/rangr/reference/K_small_changing.tif.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Example of changing carrying capacity maps (small) — K_small_changing.tif","text":"","code":"system.file(\"input_maps/K_small_changing.tif\", package = \"rangr\") #> [1] \"/home/runner/work/_temp/Library/rangr/input_maps/K_small_changing.tif\""},{"path":"https://popecol.github.io/rangr/reference/disp.html","id":null,"dir":"Reference","previous_headings":"","what":"Simulating dispersal — disp","title":"Simulating dispersal — disp","text":"function simulates dispersal, every square calculating . individuals disperse square . individuals disperse square.","code":""},{"path":"https://popecol.github.io/rangr/reference/disp.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Simulating dispersal — disp","text":"","code":"disp(   N_t,   id,   data_table,   kernel,   dens_dep,   dlist,   id_within,   within_mask,   border,   max_dist,   resolution,   ncells_in_circle,   cl = NULL )"},{"path":"https://popecol.github.io/rangr/reference/disp.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Simulating dispersal — disp","text":"N_t integer matrix population numbers single time step; NA stands cells outside study area id RasterLayer  object (size N_t) cell identifiers data_table matrix contains information cells current time points kernel function defining dispersal kernel dens_dep character vector length 1 specifying probability settling target square (case-sensitive): \"none\" - fully random, \"K\" - proportional carrying capacity target square, \"K2N\" - density-dependent, .e. proportional ratio carrying capacity target square number individuals already present target square dlist list identifiers target cells specified distance focal cell id_within integer vector identifiers cells inside study area within_mask logical matrix specifies boundaries study area border character vector length 1 defining deal borders (case-sensitive): \"absorbing\" - individuals disperse outside study area removed population \"reprising\" - cells outside study area allowed targets dispersal max_dist distance (units used raster id) specifying maximum range identifiers target dispersal cells determined advance (see initialise) resolution integer vector length 1; spatial resolution id raster ncells_in_circle numeric vector; number cells distance cl simulation done parallel, name cluster object created makeCluster","code":""},{"path":"https://popecol.github.io/rangr/reference/disp.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Simulating dispersal — disp","text":"function returns list contains two matrices: em - emigration matrix number individuals dispersed cell im - immigration matrix number individuals dispersed cell","code":""},{"path":"https://popecol.github.io/rangr/reference/disp.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Simulating dispersal — disp","text":"function used sim internally intended called user. parameters function passed sim_data object created initialise. Dispersal distance expressed original spatial units SpatRaster provided sim function (n1_map K_map), however, internally converted units simulation (.e. size single cell) calculating round(distance/resolution). Thus, selected dispersal distance smaller resolution/2, effectively means individual disperse, .e. lands cell . dispersal rate (proportion dispersing individuals) can estimated dispersal kernel probability function calculating probability dispersal distance greater resolution/2.","code":""},{"path":"https://popecol.github.io/rangr/reference/disp.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Simulating dispersal — disp","text":"","code":"# data preparation library(terra) #> terra 1.7.37  n1_small <- rast(system.file(\"input_maps/n1_small.tif\", package = \"rangr\")) K_small <- rast(system.file(\"input_maps/K_small.tif\", package = \"rangr\"))  sim_data <- initialise(   n1_map = n1_small,   K_map = K_small,   r = log(2),   rate = 1 / 1e3 ) #> NaN values were found in input maps and replaced with NA (cells outside the study area) #> Warning: sf required for evolution_status==2L  # disp disp_output <- disp(   N_t = sim_data$n1_map,   id = raster::raster(sim_data$id),   data_table = sim_data$data_table,   kernel = sim_data$kernel,   dens_dep = sim_data$dens_dep,   dlist = sim_data$dlist,   id_within = sim_data$id_within,   within_mask = sim_data$within_mask,   border = sim_data$border,   max_dist = sim_data$max_dist,   resolution = sim_data$resolution,   ncells_in_circle = sim_data$ncells_in_circle )  # immigration and emigration matrices names(disp_output) #> [1] \"em\" \"im\""},{"path":"https://popecol.github.io/rangr/reference/get_observations.html","id":null,"dir":"Reference","previous_headings":"","what":"Observation process — get_observations","title":"Observation process — get_observations","text":"function simulates observation process.","code":""},{"path":"https://popecol.github.io/rangr/reference/get_observations.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Observation process — get_observations","text":"","code":"get_observations(   sim_data,   sim_results,   type = c(\"random_one_layer\", \"random_all_layers\", \"from_data\", \"monitoring_based\"),   sdlog = log(1),   ... )"},{"path":"https://popecol.github.io/rangr/reference/get_observations.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Observation process — get_observations","text":"sim_data sim_data object initialise containing simulation parameters sim_results sim_results object; returned sim function type character vector length 1; describes sampling type (case-sensitive): \"random_one_layer\" - cells population numbers sampled selected randomly; selected cells time steps \"random_all_layers\" - cells abundance sampled selected randomly; new set cells selected time step \"from_data\" - cells abundance sampled provided user data.frame three columns: \"x\", \"y\" \"time_step\" \"monitoring_based\" - cells abundance sampled provided user matrix object two columns: “x” “y”; abundance given cell sampled different virtual observers different time steps; whether survey made observer several years whether made defined using geometric distribution (rgeom) sdlog numeric vector length 1; standard deviation (log scale) random noise observation process generated log-normal distribution (rlnorm) ... necessary internal parameters: propnumeric vector length 1; proportion cells sampled (default prop = 0.1); used type = \"random_one_layer\" \"random_all_layers\", pointsdata.frame matrix 3 named numeric columns (\"x\", \"y\" \"time_step\") containing coordinates time steps observations obtained; used type = \"from_data\", cells_coordsdata.frame matrix 2 named columns: \"x\" \"y\"; survey plots coordinates; used type = \"monitoring_based\" probnumeric vector length 1; parameter defining shape - rgeom distribution - defines whether observation made observer several years whether made (default prob = 0.3); used type = \"monitoring_based\" progress_barlogical vector length 1; determines progress bar observational process displayed (default progress_bar = FALSE); used type = \"monitoring_based\"","code":""},{"path":"https://popecol.github.io/rangr/reference/get_observations.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Observation process — get_observations","text":"data.frame object geographic coordinates, time steps, estimated abundances, including observation error (sdlog > 0) observer identifiers (type = \"monitoring_based\")","code":""},{"path":"https://popecol.github.io/rangr/reference/get_observations.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Observation process — get_observations","text":"","code":"if (FALSE) {  library(terra) n1_small <- rast(system.file(\"input_maps/n1_small.tif\", package = \"rangr\")) K_small <- rast(system.file(\"input_maps/K_small.tif\", package = \"rangr\"))  # prepare data sim_data <- initialise(   n1_map = n1_small,   K_map = K_small,   r = log(2),   rate = 1 / 1e3 )  sim_1 <- sim(obj = sim_data, time = 110, burn = 10)  # 1. random_one_layer sample1 <- get_observations(   sim_data,   sim_1,   type = \"random_one_layer\",   prop = 0.1 )  # 2. random_all_layers sample2 <- get_observations(   sim_data,   sim_1,   type = \"random_all_layers\",   prop = 0.15 )  # 3. from_data sample3 <- get_observations(   sim_data,   sim_1,   type = \"from_data\",   points = observations_points )  # 4. monitoring_based # define observations sites all_points <- xyFromCell(sim_data$id, cells(sim_data$K_map)) sample_idx <- sample(1:nrow(all_points), size = 20) sample_points <- all_points[sample_idx, ]  sample4 <- get_observations(   sim_data,   sim_1,   type = \"monitoring_based\",   cells_coords = sample_points,   prob = 0.3,   progress_bar = TRUE )  # 5. noise sample5 <- get_observations(sim_data,   sim_1,   type = \"random_one_layer\",   sdlog = log(1.2) ) }"},{"path":"https://popecol.github.io/rangr/reference/growth.html","id":null,"dir":"Reference","previous_headings":"","what":"Population growth functions — growth","title":"Population growth functions — growth","text":"Population growth functions can used simulation conducted sim. user needs specify name growth function initialising sim_data object using initialise.","code":""},{"path":"https://popecol.github.io/rangr/reference/growth.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Population growth functions — growth","text":"","code":"exponential(x, r, ...)  ricker(x, r, K, A = NA)  gompertz(x, r, K, A = NA)"},{"path":"https://popecol.github.io/rangr/reference/growth.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Population growth functions — growth","text":"x number individuals r intrinsic population growth rate ... used, added compatibility reasons K carrying capacity coefficient Allee effect (<= 0: weak, > 0: strong, NA: none)","code":""},{"path":"https://popecol.github.io/rangr/reference/growth.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Population growth functions — growth","text":"Object dimensions x containing expected number individuals next time step.","code":""},{"path":"https://popecol.github.io/rangr/reference/growth.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Population growth functions — growth","text":"x can vector, matrix, SpatRaster R object basic arithmetic operations make sense. functions intended used sim function x matrix dimensions SpatRaster object specified n1_map parameter.","code":""},{"path":"https://popecol.github.io/rangr/reference/growth.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Population growth functions — growth","text":"Boukal, D. S., & Berec, L. (2002). Single-species models Allee effect: extinction boundaries, sex ratios mate encounters. Journal Theoretical Biology, 218(3), 375-394. https://doi.org/10.1006/jtbi.2002.3084","code":""},{"path":"https://popecol.github.io/rangr/reference/growth.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Population growth functions — growth","text":"","code":"x <- 1:10 exponential(x, r = 0.4) #>  [1]  1.491825  2.983649  4.475474  5.967299  7.459123  8.950948 10.442773 #>  [8] 11.934598 13.426422 14.918247  ricker(x, r = 2, K = 5) #>  [1] 4.953032 6.640234 6.676623 5.967299 5.000000 4.021920 3.145303 2.409554 #>  [9] 1.817069 1.353353 ricker(x, r = 2, K = 5, A = -5) #>  [1]  6.82095847 10.73111194 10.78991918  8.21773284  5.00000000  2.48869747 #>  [7]  1.02624873  0.35325735  0.10200072  0.02478752  gompertz(x, r = 1.2, K = 5) #>  [1] 2.087102 3.181557 3.936002 4.519499 5.000000 5.411464 5.773278 6.097557 #>  [9] 6.392388 6.663442 gompertz(x, r = 1.2, K = 5, A = 5) #>  [1] 0.5550921 1.5137850 2.6912102 3.9034978 5.0000000 5.8773825 6.4807880 #>  [8] 6.7971920 6.8450876 6.6634415"},{"path":"https://popecol.github.io/rangr/reference/initialise.html","id":null,"dir":"Reference","previous_headings":"","what":"Prepare data required to perform a simulation — initialise","title":"Prepare data required to perform a simulation — initialise","text":"function generates sim_data object contains necessary information needed run simulation sim function. Note input maps (n1_map K_map) must Cartesian coordinate system.","code":""},{"path":"https://popecol.github.io/rangr/reference/initialise.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Prepare data required to perform a simulation — initialise","text":"","code":"initialise(   n1_map,   K_map,   K_sd = 0,   r,   r_sd = 0,   growth = \"gompertz\",   A = NA,   dens_dep = c(\"K2N\", \"K\", \"none\"),   border = c(\"absorbing\", \"reprising\"),   kernel_fun = \"rexp\",   ...,   max_dist = NA,   calculate_dist = TRUE,   dlist = NULL,   progress_bar = FALSE,   quiet = TRUE,   cl = NULL )  initialize(   n1_map,   K_map,   K_sd = 0,   r,   r_sd = 0,   growth = \"gompertz\",   A = NA,   dens_dep = c(\"K2N\", \"K\", \"none\"),   border = c(\"absorbing\", \"reprising\"),   kernel_fun = \"rexp\",   ...,   max_dist = NA,   calculate_dist = TRUE,   dlist = NULL,   progress_bar = FALSE,   quiet = TRUE,   cl = NULL )"},{"path":"https://popecol.github.io/rangr/reference/initialise.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Prepare data required to perform a simulation — initialise","text":"n1_map SpatRaster object one layer; population numbers every square first time step K_map SpatRaster object one layer; carrying capacity map (K constant across time) maps (K time-varying) K_sd numeric vector length 1 value >= 0 (default 0); parameter can used additional environmental stochasticity required; K_sd > 0, random numbers generated log-normal distribution mean K_map standard deviation K_sd r numeric vector length 1; intrinsic population growth rate r_sd numeric vector length 1 value >= 0 (default 0); additional demographic stochasticity required, r_sd > 0 standard deviation normal distribution around r (defined time step) growth character vector length 1; name population growth function, either defined growth provided user (case-sensitive) numeric vector length 1; strength Allee effect (see growth function) dens_dep character vector length 1 specifying probability settling target square (case-sensitive): \"none\" - fully random, \"K\" - proportional carrying capacity target square, \"K2N\" - density-dependent, .e. proportional ratio carrying capacity target square number individuals already present target square border character vector length 1 defining deal borders (case-sensitive): \"absorbing\" - individuals disperse outside study area removed population \"reprising\" - cells outside study area allowed targets dispersal kernel_fun character vector length 1; name random number generation function defining dispersal kernel (case-sensitive) ... parameters required kernel_fun max_dist numeric vector length 1; maximum distance dispersal pre-calculate target cells calculate_dist logical vector length 1; determines target cells precalculated dlist list; target cells specified distance calculated every cell within study area progress_bar logical vector length 1; determines progress bar calculating distances displayed (used dlist NULL) quiet logical vector length 1; determines messages calculating distances displayed (used dlist NULL) cl cluster object created makeCluster","code":""},{"path":"https://popecol.github.io/rangr/reference/initialise.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Prepare data required to perform a simulation — initialise","text":"Object class sim_data inherits list. object contains necessary information perform simulation using sim function.","code":""},{"path":"https://popecol.github.io/rangr/reference/initialise.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Prepare data required to perform a simulation — initialise","text":"time-consuming part computations performed sim function simulation dispersal. speed , list containing indexes target cells specified distance focal cell, calculated advance stored dlist slot. speed things even , calculations can done parallel, providing cluster object created makeCluster specified using cl parameter. parameter max_dist sets maximum distance pre-calculation done. max_dist NULL set 0.9 quantile kernel_fun. NA input maps stands cells outside study area. K_get_interpolation function can used prepare K_map changes time. may useful, simulating environmental change exploring effects ecological disturbances.","code":""},{"path":"https://popecol.github.io/rangr/reference/initialise.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Prepare data required to perform a simulation — initialise","text":"","code":"if (FALSE) {  # input maps library(terra)  n1_small <- rast(system.file(\"input_maps/n1_small.tif\", package = \"rangr\")) K_small <- rast(system.file(\"input_maps/K_small.tif\", package = \"rangr\")) K_small_changing <- rast(system.file(\"input_maps/K_small_changing.tif\",                          package = \"rangr\"))  # basic example sim_data_1 <- initialise(   n1_map = n1_small,   K_map = K_small,   r = log(2),   rate = 1 / 1e3 )  # example with changing environment K_interpolated <- K_get_interpolation(   K_small_changing,   K_time_points = c(1, 25, 50) )  sim_data_2 <- initialise(   n1_map = n1_small,   K_map = K_interpolated,   r = log(2),   rate = 1 / 1e3 )  # example with progress bar sim_data_3 <- initialise(   n1_map = n1_small, K_map = K_small, K_sd = 5, r = log(5),   r_sd = 4, growth = \"ricker\", rate = 1 / 200,   max_dist = 5000, dens_dep = \"K2N\", progress_bar = TRUE )  # example with parallelization library(parallel) cl <- makeCluster(detectCores())  sim_data_4 <- initialise(   n1_map = n1_small,   K_map = K_small,   r = log(2),   rate = 1 / 1e3,   cl = cl,   progress_bar = TRUE ) stopCluster(cl) }"},{"path":"https://popecol.github.io/rangr/reference/n1_big.tif.html","id":null,"dir":"Reference","previous_headings":"","what":"Example of abundance map at first time step of the simulation (big) — n1_big.tif","title":"Example of abundance map at first time step of the simulation (big) — n1_big.tif","text":"SpatRaster object can used simulation starting point initialise data necessary perform simulation. map compatible K_big.tif map.","code":""},{"path":"https://popecol.github.io/rangr/reference/n1_big.tif.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Example of abundance map at first time step of the simulation (big) — n1_big.tif","text":"SpatRaster object 100 rows 100 columns containing integer values 0-50 NA's (indicates unsuitable areas).","code":""},{"path":"https://popecol.github.io/rangr/reference/n1_big.tif.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Example of abundance map at first time step of the simulation (big) — n1_big.tif","text":"Data generated -house serve example","code":""},{"path":"https://popecol.github.io/rangr/reference/n1_big.tif.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Example of abundance map at first time step of the simulation (big) — n1_big.tif","text":"","code":"system.file(\"input_maps/n1_big.tif\", package = \"rangr\") #> [1] \"/home/runner/work/_temp/Library/rangr/input_maps/n1_big.tif\""},{"path":"https://popecol.github.io/rangr/reference/n1_small.tif.html","id":null,"dir":"Reference","previous_headings":"","what":"Example of abundance map at first time step of the simulation (small) — n1_small.tif","title":"Example of abundance map at first time step of the simulation (small) — n1_small.tif","text":"SpatRaster object can used simulation starting point initialise data necessary perform simulation. map compatible K_small.tif K_small_changing.tif maps.","code":""},{"path":"https://popecol.github.io/rangr/reference/n1_small.tif.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Example of abundance map at first time step of the simulation (small) — n1_small.tif","text":"SpatRaster object 15 rows 10 columns containing integer values 0-10 NA's (indicates unsuitable areas).","code":""},{"path":"https://popecol.github.io/rangr/reference/n1_small.tif.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Example of abundance map at first time step of the simulation (small) — n1_small.tif","text":"Data generated -house serve example","code":""},{"path":"https://popecol.github.io/rangr/reference/n1_small.tif.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Example of abundance map at first time step of the simulation (small) — n1_small.tif","text":"","code":"system.file(\"input_maps/n1_small.tif\", package = \"rangr\") #> [1] \"/home/runner/work/_temp/Library/rangr/input_maps/n1_small.tif\""},{"path":"https://popecol.github.io/rangr/reference/observations_points.html","id":null,"dir":"Reference","previous_headings":"","what":"Example of observation points list — observations_points","title":"Example of observation points list — observations_points","text":"data.frame containing sample input data function get_observations  (type argument set \"from_file\"). data compatible n1_small.tif K_small.tif/K_small_changing.tif maps.","code":""},{"path":"https://popecol.github.io/rangr/reference/observations_points.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Example of observation points list — observations_points","text":"","code":"observations_points"},{"path":"https://popecol.github.io/rangr/reference/observations_points.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Example of observation points list — observations_points","text":"data frame 1500 rows 3 variables: x x coordinate y y coordinate time_step time_step abundances observed","code":""},{"path":"https://popecol.github.io/rangr/reference/observations_points.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Example of observation points list — observations_points","text":"Data generated -house serve example","code":""},{"path":"https://popecol.github.io/rangr/reference/plot.sim_results.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot sim_results object — plot.sim_results","title":"Plot sim_results object — plot.sim_results","text":"Plots abundances obtained simulation.","code":""},{"path":"https://popecol.github.io/rangr/reference/plot.sim_results.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot sim_results object — plot.sim_results","text":"","code":"# S3 method for sim_results plot(x, template = NULL, time_points = NULL, range, type, ...)"},{"path":"https://popecol.github.io/rangr/reference/plot.sim_results.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot sim_results object — plot.sim_results","text":"x sim_results object; returned sim template SpatRaster object; can used template create returned object time_points numeric vector; specifies points time plots generated range numeric vector length 2; range values used legend (type = \"continuous\"), default calculated N_map slot sim_result object type character vector length 1; type map: \"continuous\" (default), \"classes\" \"interval\"  (case-sensitive) ... arguments passed terra::plot","code":""},{"path":"https://popecol.github.io/rangr/reference/plot.sim_results.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot sim_results object — plot.sim_results","text":"SpatRaster object many layers length time_points parameter","code":""},{"path":"https://popecol.github.io/rangr/reference/plot.sim_results.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot sim_results object — plot.sim_results","text":"","code":"library(terra)  n1_small <- rast(system.file(\"input_maps/n1_small.tif\", package = \"rangr\")) K_small <- rast(system.file(\"input_maps/K_small.tif\", package = \"rangr\"))  sim_data <- initialise(   n1_map = n1_small,   K_map = K_small,   r = log(2),   rate = 1 / 1e3 ) #> NaN values were found in input maps and replaced with NA (cells outside the study area) sim_res <- sim(sim_data, time = 10) plot(sim_res)  #> class       : SpatRaster  #> dimensions  : 15, 10, 4  (nrow, ncol, nlyr) #> resolution  : 1, 1  (x, y) #> extent      : 0, 10, 0, 15  (xmin, xmax, ymin, ymax) #> coord. ref. :   #> source(s)   : memory #> names       : t_1, t_4, t_7, t_10  #> min values  :   0,   0,   0,    0  #> max values  :  10,   9,  14,   17"},{"path":"https://popecol.github.io/rangr/reference/print.sim_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Print sim_data object — print.sim_data","title":"Print sim_data object — print.sim_data","text":"Print sim_data object","code":""},{"path":"https://popecol.github.io/rangr/reference/print.sim_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Print sim_data object — print.sim_data","text":"","code":"# S3 method for sim_data print(x, ...)"},{"path":"https://popecol.github.io/rangr/reference/print.sim_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Print sim_data object — print.sim_data","text":"x sim_data object; returned initialise function ... arguments passed methods; currently none specified","code":""},{"path":"https://popecol.github.io/rangr/reference/print.sim_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Print sim_data object — print.sim_data","text":"sim_data object invisibly returned (x param)","code":""},{"path":"https://popecol.github.io/rangr/reference/print.sim_data.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Print sim_data object — print.sim_data","text":"","code":"library(terra)  n1_small <- rast(system.file(\"input_maps/n1_small.tif\", package = \"rangr\")) K_small <- rast(system.file(\"input_maps/K_small.tif\", package = \"rangr\"))  sim_data <- initialise(   n1_map = n1_small,   K_map = K_small,   r = log(2),   rate = 1 / 1e3 ) #> NaN values were found in input maps and replaced with NA (cells outside the study area) print(sim_data) #> Class: sim_data #>  #> n1_map: #>    Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's  #>  0.0000  0.0000  0.0000  0.1449  0.0000 10.0000      12  #>  #> K_map: #> class       : SpatRaster  #> dimensions  : 15, 10, 1  (nrow, ncol, nlyr) #> resolution  : 1000, 1000  (x, y) #> extent      : 270000, 280000, 610000, 625000  (xmin, xmax, ymin, ymax) #> coord. ref. : ETRS89 / Poland CS92  #> source(s)   : memory #> name        : layer  #> min value   :     0  #> max value   :   100  #>                              #> resolution              1000 #> r          0.693147180559945 #> r_sd                       0 #> K_sd                       0 #> growth              gompertz #> A                          - #> dens_dep                 K2N #> border             absorbing #> max_dist                2000 #> kernel_fun              rexp #> dlist                   TRUE"},{"path":"https://popecol.github.io/rangr/reference/print.sim_results.html","id":null,"dir":"Reference","previous_headings":"","what":"Print sim_results object — print.sim_results","title":"Print sim_results object — print.sim_results","text":"Print sim_results object","code":""},{"path":"https://popecol.github.io/rangr/reference/print.sim_results.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Print sim_results object — print.sim_results","text":"","code":"# S3 method for sim_results print(x, ...)"},{"path":"https://popecol.github.io/rangr/reference/print.sim_results.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Print sim_results object — print.sim_results","text":"x sim_results object; returned sim function ... arguments passed methods; none specified","code":""},{"path":"https://popecol.github.io/rangr/reference/print.sim_results.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Print sim_results object — print.sim_results","text":"sim_results object invisibly returned (x param)","code":""},{"path":"https://popecol.github.io/rangr/reference/print.sim_results.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Print sim_results object — print.sim_results","text":"","code":"library(terra)  n1_small <- rast(system.file(\"input_maps/n1_small.tif\", package = \"rangr\")) K_small <- rast(system.file(\"input_maps/K_small.tif\", package = \"rangr\"))  sim_data <- initialise(   n1_map = n1_small,   K_map = K_small,   r = log(2),   rate = 1 / 1e3 ) #> NaN values were found in input maps and replaced with NA (cells outside the study area) sim_res <- sim(obj = sim_data, time = 20, burn = 5) print(sim_res) #> Class: sim_results #>  #> N_map:  #> , , 1 #>  #>       [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10] #>  [1,]   NA   NA   NA    0    0    0    0    0    0     0 #>  [2,]   NA   NA   NA    0    0    0    0    0    0     0 #>  [3,]   NA   NA   NA    0    0    0    0    0    0     0 #>  [4,]   NA   NA   NA    0    0    0    0    0    0     0 #>  [5,]    0    0    0    0    0    0    0    0    0     0 #>  [6,]    0    0    0    0    0    0    0    0    0     0 #>  [7,]    0    0    0    0    0    0    0    0    0     0 #>  [8,]    0    0    0    0    0    0    0    0    0     0 #>  [9,]    0    0    0    0    0    0    0    0    1     0 #> [10,]    0    1    0    0    0    0    0    0    0     1 #> [11,]    0    0    0    0    0    1    0    0    2     2 #> [12,]    0    0    0    0    0    0    2    1    4     5 #> [13,]    0    0    0    1    0    0    3    4    4     5 #> [14,]    0    0    0    0    2    1    0    0    8     9 #> [15,]    0    0    1    0    0    1    2    3   11    31 #>  #> , , 2 #>  #>       [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10] #>  [1,]   NA   NA   NA    0    0    0    0    0    0     0 #>  [2,]   NA   NA   NA    0    0    0    0    0    0     0 #>  [3,]   NA   NA   NA    0    0    0    0    0    0     0 #>  [4,]   NA   NA   NA    0    0    0    0    0    0     0 #>  [5,]    0    0    0    0    0    0    0    0    0     0 #>  [6,]    0    0    0    0    0    0    0    0    0     0 #>  [7,]    0    0    0    0    0    0    0    0    0     0 #>  [8,]    0    0    0    0    0    0    0    0    0     0 #>  [9,]    0    0    0    0    0    0    0    0    1     1 #> [10,]    1    1    0    0    0    0    0    0    2     0 #> [11,]    0    0    0    0    0    1    0    2    3     5 #> [12,]    0    0    0    0    1    1    1    4    6     8 #> [13,]    0    0    0    1    2    3    2    4    5     5 #> [14,]    0    0    2    0    1    2    0    0   13    12 #> [15,]    0    0    1    0    1    2    2    6   14    32 #>  #> , , 3 #>  #>       [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10] #>  [1,]   NA   NA   NA    0    0    0    0    0    0     0 #>  [2,]   NA   NA   NA    0    0    0    0    0    0     0 #>  [3,]   NA   NA   NA    0    0    0    0    0    0     0 #>  [4,]   NA   NA   NA    0    0    0    0    0    0     0 #>  [5,]    0    0    0    0    0    0    0    0    0     0 #>  [6,]    0    0    0    0    0    0    0    0    0     0 #>  [7,]    0    0    0    0    0    0    0    0    0     0 #>  [8,]    0    0    0    0    0    0    1    0    0     0 #>  [9,]    0    1    0    0    0    0    0    0    0     4 #> [10,]    2    1    0    0    1    0    0    2    2     3 #> [11,]    0    0    0    0    2    2    0    3    3     5 #> [12,]    0    0    0    1    0    0    3    3    5     6 #> [13,]    0    0    1    0    0    4    3    6    3     8 #> [14,]    0    0    1    1    2    3    0    0   12    12 #> [15,]    0    1    2    1    3    3    5    7   22    30 #>  #> , , 4 #>  #>       [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10] #>  [1,]   NA   NA   NA    0    0    0    0    0    0     0 #>  [2,]   NA   NA   NA    0    0    0    0    0    0     0 #>  [3,]   NA   NA   NA    0    0    0    0    0    0     0 #>  [4,]   NA   NA   NA    0    0    0    0    0    0     0 #>  [5,]    0    0    0    0    0    0    0    0    0     0 #>  [6,]    0    0    0    0    0    0    0    0    0     0 #>  [7,]    0    0    0    0    0    0    0    0    0     0 #>  [8,]    1    0    0    0    1    0    0    0    0     0 #>  [9,]    1    2    0    1    0    2    0    0    1     3 #> [10,]    3    0    2    0    1    3    0    3    4     3 #> [11,]    0    0    1    2    1    1    0    4    6     7 #> [12,]    0    0    2    3    2    3    3    8   12    12 #> [13,]    0    0    2    2    3    1    3    7    5    12 #> [14,]    0    0    0    1    4    4    0    0   11     8 #> [15,]    0    0    2    4    4    5    6    6   18    25 #>  #> , , 5 #>  #>       [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10] #>  [1,]   NA   NA   NA    0    0    0    0    0    0     0 #>  [2,]   NA   NA   NA    0    0    0    0    0    0     0 #>  [3,]   NA   NA   NA    0    0    0    0    0    0     0 #>  [4,]   NA   NA   NA    0    0    0    0    0    0     0 #>  [5,]    0    0    0    0    0    0    0    0    0     0 #>  [6,]    0    0    0    0    0    0    0    0    0     0 #>  [7,]    0    0    1    0    0    1    1    0    0     0 #>  [8,]    1    1    0    0    0    1    0    0    0     0 #>  [9,]    2    1    0    0    1    1    0    0    3     6 #> [10,]    2    0    3    2    1    3    0    6    9     7 #> [11,]    0    0    1    1    3    5    0    7    9    10 #> [12,]    0    0    2    0    3    3    6   10    9    11 #> [13,]    0    0    4    6    2    7    2   12   12     9 #> [14,]    0    0    3    2    4    3    0    0   12    14 #> [15,]    0    1    2    2    7    8   13    8   16    20 #>  #> , , 6 #>  #>       [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10] #>  [1,]   NA   NA   NA    0    0    0    0    0    0     0 #>  [2,]   NA   NA   NA    0    0    0    0    0    0     0 #>  [3,]   NA   NA   NA    0    0    0    0    0    0     0 #>  [4,]   NA   NA   NA    0    0    0    0    0    0     0 #>  [5,]    0    0    0    0    0    0    0    0    0     0 #>  [6,]    1    0    0    0    0    0    0    0    0     0 #>  [7,]    0    0    2    0    0    1    5    0    0     0 #>  [8,]    1    3    0    2    3    3    3    0    0     0 #>  [9,]    1    4    2    2    1    5    0    0    6     4 #> [10,]    2    2    3    1    2    2    0    6    7    11 #> [11,]    0    1    1    5    2    4    0    7    9     7 #> [12,]    0    0    5    5    4    4    6   12    9    14 #> [13,]    0    0    5    7    4    5    6   12   15    15 #> [14,]    0    0    4    8    8   11    0    0   12    15 #> [15,]    0    4    1    5   10    5    8    9   17    25 #>  #> , , 7 #>  #>       [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10] #>  [1,]   NA   NA   NA    0    0    0    0    0    0     0 #>  [2,]   NA   NA   NA    0    0    0    0    0    0     0 #>  [3,]   NA   NA   NA    0    0    0    0    0    0     0 #>  [4,]   NA   NA   NA    0    0    0    0    0    0     0 #>  [5,]    0    0    0    0    0    0    0    0    0     0 #>  [6,]    2    1    1    0    0    0    0    0    0     0 #>  [7,]    0    0    3    0    0    3    3    0    0     0 #>  [8,]    4    3    2    4    4    4    2    0    0     0 #>  [9,]    0    3    3    3    6    2    0    0    4     5 #> [10,]    2    1    5    4    3    0    0    8    8    16 #> [11,]    1    5    6    5    8    4    0    7   10    10 #> [12,]    0    0    4    7    8    4    4   14    7    15 #> [13,]    0    0    9    5    4    8   12   10   16    22 #> [14,]    0    0    7   11    7    9    0    0   18    19 #> [15,]    0    8    6    6   15    7   13   10   19    26 #>  #> , , 8 #>  #>       [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10] #>  [1,]   NA   NA   NA    0    0    0    0    0    0     0 #>  [2,]   NA   NA   NA    0    0    0    0    0    0     0 #>  [3,]   NA   NA   NA    1    0    0    0    0    0     0 #>  [4,]   NA   NA   NA    0    0    0    0    0    0     0 #>  [5,]    0    1    1    0    2    0    0    0    0     0 #>  [6,]    2    0    2    0    0    0    0    0    0     0 #>  [7,]    1    2    2    0    0    5    2    0    0     0 #>  [8,]    8    4    5    5    4    4    4    0    0     0 #>  [9,]    3    6    5    6    6    8    0    0    8     9 #> [10,]    5    6    5   10    8   13    0   11   13    10 #> [11,]    1    5    8    8    7    3    0   10   10    21 #> [12,]    0    0    7    9    3   11    9   14   15    16 #> [13,]    0    0    6   12   10    8   11   15   14    21 #> [14,]    0    0    8   12    9   11    0    0   27    22 #> [15,]    0    8   11   14   15   12   11   10   25    27 #>  #> , , 9 #>  #>       [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10] #>  [1,]   NA   NA   NA    0    0    0    0    0    0     0 #>  [2,]   NA   NA   NA    0    0    0    0    0    0     0 #>  [3,]   NA   NA   NA    0    0    0    0    0    0     0 #>  [4,]   NA   NA   NA    4    0    0    0    0    0     0 #>  [5,]    2    2    1    2    3    0    0    0    0     0 #>  [6,]    5    7    3    0    0    0    0    0    0     0 #>  [7,]    3    4    3    0    0    7    7    0    0     0 #>  [8,]   12    4    5    6    9    7    6    0    0     0 #>  [9,]    8    9    6    5    8    6    0    0    9    14 #> [10,]    9   11    6    7    9    8    0   13   12    12 #> [11,]    6    5   11   11   12    5    0   15   13    14 #> [12,]    0    0    7    6   10    9   12   12   17    18 #> [13,]    0    0   10    7   15   14   14   16   15    20 #> [14,]    0    0   10   15   13   10    0    0   23    23 #> [15,]    0   16    7   15   20   14   15    8   27    26 #>  #> , , 10 #>  #>       [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10] #>  [1,]   NA   NA   NA    0    0    0    0    1    0     0 #>  [2,]   NA   NA   NA    0    0    0    0    0    0     0 #>  [3,]   NA   NA   NA    0    0    0    0    0    0     0 #>  [4,]   NA   NA   NA    5    2    0    0    0    0     0 #>  [5,]    3    3    6    2    6    0    0    0    0     0 #>  [6,]    8   10    3    0    0    0    0    0    0     0 #>  [7,]    4    7   10    0    0    6    4    0    0     0 #>  [8,]   12    8    7    4   12    9    6    0    0     0 #>  [9,]    8   11   10    6   12    8    0    0    7    17 #> [10,]    9   12   10   10   11    2    0   12   13    17 #> [11,]    5    8   10   11   11   14    0   11   14    18 #> [12,]    0    0   10   10   11   16   11   15   20    18 #> [13,]    0    0    9   11   13   18   17   19   15    22 #> [14,]    0    0    8   17    9   10    0    0   19    29 #> [15,]    0   14    8   13   21   20   20   19   30    34 #>  #> , , 11 #>  #>       [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10] #>  [1,]   NA   NA   NA    0    0    0    0    0    0     0 #>  [2,]   NA   NA   NA    0    0    0    0    0    0     0 #>  [3,]   NA   NA   NA    6    0    0    2    0    0     0 #>  [4,]   NA   NA   NA    5    2    0    0    0    0     0 #>  [5,]    6    6    8    7    4    0    0    0    0     0 #>  [6,]   13    6    7    0    0    0    0    0    0     0 #>  [7,]    8    4   11    0    0    9    7    0    0     0 #>  [8,]   11   17   12    9   12   12    8    0    0     0 #>  [9,]   10   10   11    9    9   11    0    0    7    20 #> [10,]    8   10   15   11   13   20    0    9   12    12 #> [11,]   11    4   13   17   13   13    0   13   15    21 #> [12,]    0    0   15    8   17    9   11   19   17    18 #> [13,]    0    0   10   22   16   14   23   19   15    26 #> [14,]    0    0    8   13   14   13    0    0   21    29 #> [15,]    0   12    9   13   22   28   21   17   25    38 #>  #> , , 12 #>  #>       [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10] #>  [1,]   NA   NA   NA    0    1    0    0    0    0     0 #>  [2,]   NA   NA   NA    0    0    0    0    0    0     0 #>  [3,]   NA   NA   NA    9    0    0    4    0    0     0 #>  [4,]   NA   NA   NA   10    4    0    0    0    0     0 #>  [5,]   12    8   17    6   10    0    0    0    0     0 #>  [6,]   11    7   12    0    0    0    0    0    0     0 #>  [7,]    9    8    7    0    0    8    6    0    0     0 #>  [8,]   17   14   14    7   14   13    9    0    0     0 #>  [9,]    8   12   11   12   13   14    0    0    9    20 #> [10,]    8   12   12   14   14   13    0   12    9    16 #> [11,]    9   15   12   16   16   10    0   12   16    18 #> [12,]    0    0    9   17   15   11   11   19   16    29 #> [13,]    0    0   13   13   18   18    8   18   23    22 #> [14,]    0    0   10   15   19   21    0    0   19    39 #> [15,]    0   16   10   10   16   26   19   21   28    40 #>  #> , , 13 #>  #>       [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10] #>  [1,]   NA   NA   NA    0    2    1    0    0    0     0 #>  [2,]   NA   NA   NA    0    0    0    0    0    0     0 #>  [3,]   NA   NA   NA    9    0    0    6    0    0     0 #>  [4,]   NA   NA   NA   13    7    0    0    0    0     0 #>  [5,]   15    8   16    9    9    0    0    0    0     0 #>  [6,]   14   16   12    0    0    0    0    0    0     0 #>  [7,]    6   11   11    0    0   15    6    0    0     0 #>  [8,]   18   15   11   11    8   14   11    0    0     0 #>  [9,]   13   24   19   14   12    8    0    0   15    14 #> [10,]    8    8   12   19   14   13    0   13   12    18 #> [11,]   10   11   11   13   12   17    0   14   11    21 #> [12,]    0    0   11   15   21   14   14   22   20    29 #> [13,]    0    0   13   19   19   16   18   17   18    26 #> [14,]    0    0    8   16   22   18    0    0   19    40 #> [15,]    0   15   13   11   16   20   15   14   25    38 #>  #> , , 14 #>  #>       [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10] #>  [1,]   NA   NA   NA    0    4    3    1    1    0     0 #>  [2,]   NA   NA   NA    0    0    0    0    0    0     1 #>  [3,]   NA   NA   NA   19    0    0    3    0    0     0 #>  [4,]   NA   NA   NA   14    9    0    0    0    0     0 #>  [5,]   15   15   13   12    9    0    0    0    0     0 #>  [6,]   15   12    9    0    0    0    0    0    0     0 #>  [7,]   13   11   14    0    0   12    7    0    0     0 #>  [8,]   18   17    9    9   14   13    7    0    0     0 #>  [9,]   17   15   21   15   14   17    0    0   15    15 #> [10,]   16   10   13   13   16   16    0    9   19    22 #> [11,]   13   13   12   13   17   13    0   21   16    25 #> [12,]    0    0   12   11   18   16   16   15   18    25 #> [13,]    0    0   10   17   22   12   21   21   20    21 #> [14,]    0    0   14   19   23   24    0    0   27    39 #> [15,]    0   17   15   15   18   18   11   15   29    31 #>  #> , , 15 #>  #>       [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10] #>  [1,]   NA   NA   NA    0    4    4    3    4    1     0 #>  [2,]   NA   NA   NA    0    0    0    0    0    0     4 #>  [3,]   NA   NA   NA   10    0    0    6    0    0     0 #>  [4,]   NA   NA   NA   11    8    0    0    0    0     0 #>  [5,]   15   15   14   17    8    0    0    0    0     0 #>  [6,]   16   21   12    0    0    0    0    0    0     0 #>  [7,]   18   13   15    0    0   10   10    0    0     0 #>  [8,]   18   20   13   11   16   13   15    0    0     0 #>  [9,]   13   13   18   14   22   15    0    0    9    12 #> [10,]   14   15   19   18   17   14    0   12   17    22 #> [11,]    9   18   15   18   24   13    0   14   18    17 #> [12,]    0    0   11   15   19   16   14   12   20    26 #> [13,]    0    0   13   19   20   15   19   13   25    18 #> [14,]    0    0   12   16   16   17    0    0   21    30 #> [15,]    0   13   21   25   24   24   16   17   29    24 #>  #>                            #> simulated time steps    15 #> extinction           FALSE"},{"path":"https://popecol.github.io/rangr/reference/print.summary.sim_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Print summary.sim_data object — print.summary.sim_data","title":"Print summary.sim_data object — print.summary.sim_data","text":"Print summary.sim_data object","code":""},{"path":"https://popecol.github.io/rangr/reference/print.summary.sim_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Print summary.sim_data object — print.summary.sim_data","text":"","code":"# S3 method for summary.sim_data print(x, ...)"},{"path":"https://popecol.github.io/rangr/reference/print.summary.sim_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Print summary.sim_data object — print.summary.sim_data","text":"x summary.sim_data object; returned summary.sim_data function ... arguments passed methods; currently none specified","code":""},{"path":"https://popecol.github.io/rangr/reference/print.summary.sim_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Print summary.sim_data object — print.summary.sim_data","text":"None","code":""},{"path":"https://popecol.github.io/rangr/reference/print.summary.sim_data.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Print summary.sim_data object — print.summary.sim_data","text":"","code":"# data preparation library(terra)  n1_small <- rast(system.file(\"input_maps/n1_small.tif\", package = \"rangr\")) K_small <- rast(system.file(\"input_maps/K_small.tif\", package = \"rangr\"))  sim_data <- initialise(   n1_map = n1_small,   K_map = K_small,   r = log(2),   rate = 1 / 1e3 ) #> NaN values were found in input maps and replaced with NA (cells outside the study area) summary_sim_data <- summary(sim_data) print(summary_sim_data) #> Summary of sim_data object #>  #> n1 map summary:  #>    Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's  #>  0.0000  0.0000  0.0000  0.1449  0.0000 10.0000      12  #>  #> Carrying capacity map summary:  #>    Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's  #>    0.00    0.00   56.00   44.84   72.00  100.00      12  #>                                #> growth                gompertz #> r            0.693147180559945 #> A                            - #> kernel_fun                rexp #> dens_dep                   K2N #> border               absorbing #> max_dist                  2000 #> changing_env             FALSE #> dlist                     TRUE"},{"path":"https://popecol.github.io/rangr/reference/print.summary.sim_results.html","id":null,"dir":"Reference","previous_headings":"","what":"Print summary.sim_results object — print.summary.sim_results","title":"Print summary.sim_results object — print.summary.sim_results","text":"Print summary.sim_results object","code":""},{"path":"https://popecol.github.io/rangr/reference/print.summary.sim_results.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Print summary.sim_results object — print.summary.sim_results","text":"","code":"# S3 method for summary.sim_results print(x, ...)"},{"path":"https://popecol.github.io/rangr/reference/print.summary.sim_results.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Print summary.sim_results object — print.summary.sim_results","text":"x summary.sim_results object; returned summary.sim_results function ... arguments passed methods; currently none specified","code":""},{"path":"https://popecol.github.io/rangr/reference/print.summary.sim_results.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Print summary.sim_results object — print.summary.sim_results","text":"None","code":""},{"path":"https://popecol.github.io/rangr/reference/print.summary.sim_results.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Print summary.sim_results object — print.summary.sim_results","text":"","code":"# data preparation library(terra)  n1_small <- rast(system.file(\"input_maps/n1_small.tif\", package = \"rangr\")) K_small <- rast(system.file(\"input_maps/K_small.tif\", package = \"rangr\"))  sim_data <- initialise(   n1_map = n1_small,   K_map = K_small,   r = log(2),   rate = 1 / 1e3 ) #> NaN values were found in input maps and replaced with NA (cells outside the study area) sim_results <- sim(sim_data, time = 10) summary_sim_results <- summary(sim_results)  print(summary_sim_results) #> Summary of sim_results object #>  #> Simulation summary:  #>                      #> simulated time    10 #> extinction     FALSE #>  #> Abundances summary:  #>    Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's  #>  0.0000  0.0000  0.0000  0.8399  0.0000 37.0000     120"},{"path":"https://popecol.github.io/rangr/reference/rangr-package.html","id":null,"dir":"Reference","previous_headings":"","what":"rangr: Mechanistic Simulation of Species Range Dynamics — rangr-package","title":"rangr: Mechanistic Simulation of Species Range Dynamics — rangr-package","text":"Species range dynamics simulation toolset.","code":""},{"path":[]},{"path":"https://popecol.github.io/rangr/reference/rangr-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"rangr: Mechanistic Simulation of Species Range Dynamics — rangr-package","text":"Maintainer: Katarzyna Markowska katarzyna.markowska@amu.edu.pl Authors: Lechosław Kuczyński lechu@amu.edu.pl","code":""},{"path":"https://popecol.github.io/rangr/reference/sim.html","id":null,"dir":"Reference","previous_headings":"","what":"Mechanistic metapopulation simulator — sim","title":"Mechanistic metapopulation simulator — sim","text":"function simulates population growth dispersal providing given environmental scenario. parameters simulation must set advance using initialise.","code":""},{"path":"https://popecol.github.io/rangr/reference/sim.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Mechanistic metapopulation simulator — sim","text":"","code":"sim(obj, time, burn = 0, cl = NULL, progress_bar = FALSE, quiet = TRUE)"},{"path":"https://popecol.github.io/rangr/reference/sim.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Mechanistic metapopulation simulator — sim","text":"obj sim_data object created initialise containing simulation parameters necessary data time positive integer vector length 1; number time steps simulated burn positive integer vector length 1; number burn-time steps discarded output cl optional cluster object created makeCluster needed parallel calculations progress_bar logical vector length 1 determines progress bar simulation displayed quiet logical vector length 1; determines warnings displayed","code":""},{"path":"https://popecol.github.io/rangr/reference/sim.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Mechanistic metapopulation simulator — sim","text":"function returns object class sim_results list containing following components: extinction - TRUE population extinct FALSE otherwise simulated_time - number simulated time steps without burn-ones N_map - 3-dimensional array representing spatio-temporal variability population numbers. first two dimensions correspond spatial aspect output third dimension represents time. case total extinction, simulation stopped reaching specified . time steps. population died reaching burn threshold, nothing can returned error occurs.","code":""},{"path":"https://popecol.github.io/rangr/reference/sim.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Mechanistic metapopulation simulator — sim","text":"main simulation module. takes sim_data object prepared initialise runs simulation given number time steps. initial (specified burn parameter) time steps skipped discarded output. Computations can done parallel name cluster created makeCluster provided. Generally, time step, simulation consists two phases: local dynamics dispersal. Local dynamics (connects habitat patches time) defined function growth. parameter specified creating obj using initialise, can later modified using update function. Population growth can either exponential density-dependent, regulation implemented use Gompertz Ricker models (possibility providing , user defined function). every cell, expected population density next time step calculated corresponding number individuals currently present cell, actual number individuals set drawing random number Poisson distribution using expected value. procedure introduces realistic randomness, however additional levels random variability can incorporated providing parameters demographic environmental stochasticity specifying sim_data object using initialise function (parameters r_sd K_sd, respectively). simulate dispersal (connects habitat patches space), individual given cell, dispersal distance randomly drawn dispersal kernel density function. , individual translocated randomly chosen cell distance apart current location. details, see disp function.","code":""},{"path":"https://popecol.github.io/rangr/reference/sim.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Mechanistic metapopulation simulator — sim","text":"","code":"if (FALSE) {  # data preparation library(terra)  n1_small <- rast(system.file(\"input_maps/n1_small.tif\", package = \"rangr\")) K_small <- rast(system.file(\"input_maps/K_small.tif\", package = \"rangr\"))  sim_data <- initialise(   n1_map = n1_small,   K_map = K_small,   r = log(2),   rate = 1 / 1e3 )  # simulation sim_1 <- sim(obj = sim_data, time = 100)  # simulation with burned time steps and progress bar sim_2 <- sim(obj = sim_data, time = 100, burn = 20, progress_bar = TRUE)  # example with parallelization library(parallel) cl <- makeCluster(detectCores())  # parallelized simulation sim_3 <- sim(obj = sim_data, time = 100, cl = cl, progress_bar = TRUE) stopCluster(cl)   # visualisation plot(n1_small)  plot(to_rast(   sim_1,   time_points = 100,   template = sim_data$K_map ))  plot(to_rast(   sim_1,   time_points = c(1, 10, 50, 100),   template = sim_data$K_map ), range = range(sim_1$N_map, na.rm = TRUE))  }"},{"path":"https://popecol.github.io/rangr/reference/subset.sim_results.html","id":null,"dir":"Reference","previous_headings":"","what":"Subset of the given time points from sim_results object — subset.sim_results","title":"Subset of the given time points from sim_results object — subset.sim_results","text":"Subset given time points sim_results object","code":""},{"path":"https://popecol.github.io/rangr/reference/subset.sim_results.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Subset of the given time points from sim_results object — subset.sim_results","text":"","code":"# S3 method for sim_results subset(x, from = NULL, time_points = NULL, ...)"},{"path":"https://popecol.github.io/rangr/reference/subset.sim_results.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Subset of the given time points from sim_results object — subset.sim_results","text":"x sim_results object; returned sim function numeric vector length 1; indicates starting time point time point kept time_points numeric vector; indicates time points keep ... arguments passed methods","code":""},{"path":"https://popecol.github.io/rangr/reference/subset.sim_results.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Subset of the given time points from sim_results object — subset.sim_results","text":"sim_results object selected time_points present N_map slot","code":""},{"path":"https://popecol.github.io/rangr/reference/subset.sim_results.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Subset of the given time points from sim_results object — subset.sim_results","text":"Either time_points argument specified. Time point passed argument set cutoff point abundances previous time points discarded.","code":""},{"path":"https://popecol.github.io/rangr/reference/subset.sim_results.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Subset of the given time points from sim_results object — subset.sim_results","text":"","code":"# data preparation library(terra)  n1_small <- rast(system.file(\"input_maps/n1_small.tif\", package = \"rangr\")) K_small <- rast(system.file(\"input_maps/K_small.tif\", package = \"rangr\"))  sim_data <- initialise(   n = n1_small,   r = log(2),   K_map = K_small,   max_dist = 1000,   rate = 1 / 1e3 ) #> NaN values were found in input maps and replaced with NA (cells outside the study area)  sim_results <- sim(sim_data, time = 10) summary(sim_results)  #> Summary of sim_results object #>  #> Simulation summary:  #>                      #> simulated time    10 #> extinction     FALSE #>  #> Abundances summary:  #>    Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's  #>  0.0000  0.0000  0.0000  0.5993  0.0000 23.0000     120   sim_results_cropped <- subset(sim_results, time_points = c(1:2)) summary(sim_results_cropped)  #> Summary of sim_results object #>  #> Simulation summary:  #>                      #> simulated time     2 #> extinction     FALSE #>  #> Abundances summary:  #>    Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's  #>   0.000   0.000   0.000   0.163   0.000  13.000      24"},{"path":"https://popecol.github.io/rangr/reference/summary.sim_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Summary of sim_data object — summary.sim_data","title":"Summary of sim_data object — summary.sim_data","text":"Summary sim_data object","code":""},{"path":"https://popecol.github.io/rangr/reference/summary.sim_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Summary of sim_data object — summary.sim_data","text":"","code":"# S3 method for sim_data summary(object, ...)"},{"path":"https://popecol.github.io/rangr/reference/summary.sim_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Summary of sim_data object — summary.sim_data","text":"object sim_data object; returned initialise function ... arguments passed methods; currently none specified","code":""},{"path":"https://popecol.github.io/rangr/reference/summary.sim_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Summary of sim_data object — summary.sim_data","text":"summary.sim_data object","code":""},{"path":"https://popecol.github.io/rangr/reference/summary.sim_data.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Summary of sim_data object — summary.sim_data","text":"","code":"# data preparation library(terra)  n1_small <- rast(system.file(\"input_maps/n1_small.tif\", package = \"rangr\")) K_small <- rast(system.file(\"input_maps/K_small.tif\", package = \"rangr\"))  sim_data <- initialise(   n1_map = n1_small,   K_map = K_small,   r = log(2),   rate = 1 / 1e3 ) #> NaN values were found in input maps and replaced with NA (cells outside the study area) summary(sim_data) #> Summary of sim_data object #>  #> n1 map summary:  #>    Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's  #>  0.0000  0.0000  0.0000  0.1449  0.0000 10.0000      12  #>  #> Carrying capacity map summary:  #>    Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's  #>    0.00    0.00   56.00   44.84   72.00  100.00      12  #>                                #> growth                gompertz #> r            0.693147180559945 #> A                            - #> kernel_fun                rexp #> dens_dep                   K2N #> border               absorbing #> max_dist                  2000 #> changing_env             FALSE #> dlist                     TRUE"},{"path":"https://popecol.github.io/rangr/reference/summary.sim_results.html","id":null,"dir":"Reference","previous_headings":"","what":"Summary of sim_results object — summary.sim_results","title":"Summary of sim_results object — summary.sim_results","text":"Summary sim_results object","code":""},{"path":"https://popecol.github.io/rangr/reference/summary.sim_results.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Summary of sim_results object — summary.sim_results","text":"","code":"# S3 method for sim_results summary(object, ...)"},{"path":"https://popecol.github.io/rangr/reference/summary.sim_results.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Summary of sim_results object — summary.sim_results","text":"object sim_results object; returned sim function ... arguments passed methods; none specified","code":""},{"path":"https://popecol.github.io/rangr/reference/summary.sim_results.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Summary of sim_results object — summary.sim_results","text":"summary.sim_results object","code":""},{"path":"https://popecol.github.io/rangr/reference/summary.sim_results.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Summary of sim_results object — summary.sim_results","text":"","code":"# data preparation library(terra)  n1_small <- rast(system.file(\"input_maps/n1_small.tif\", package = \"rangr\")) K_small <- rast(system.file(\"input_maps/K_small.tif\", package = \"rangr\"))  sim_data <- initialise(   n1_map = n1_small,   K_map = K_small,   r = log(2),   rate = 1 / 1e3 ) #> NaN values were found in input maps and replaced with NA (cells outside the study area)  # simulation sim_results <- sim(sim_data, time = 10) summary(sim_results)  #> Summary of sim_results object #>  #> Simulation summary:  #>                      #> simulated time    10 #> extinction     FALSE #>  #> Abundances summary:  #>    Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's  #>   0.000   0.000   0.000   1.178   0.000  28.000     120"},{"path":"https://popecol.github.io/rangr/reference/to_rast.html","id":null,"dir":"Reference","previous_headings":"","what":"Transformation sim_results to raster — to_rast","title":"Transformation sim_results to raster — to_rast","text":"function transforms selected subset abundance matrices sim_results SpatRaster object. Layers specified time_points can one point time many.","code":""},{"path":"https://popecol.github.io/rangr/reference/to_rast.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Transformation sim_results to raster — to_rast","text":"","code":"to_rast(sim_results, time_points = sim_results$simulated_time, template = NULL)"},{"path":"https://popecol.github.io/rangr/reference/to_rast.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Transformation sim_results to raster — to_rast","text":"sim_results sim_results object created sim time_points numeric vector length 1 ; specifies points time SpatRaster created default last year simulation; length(time_points) > 0 SpatRaster returned layers element time_points template SpatRaster object; can used template create returned object","code":""},{"path":"https://popecol.github.io/rangr/reference/to_rast.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Transformation sim_results to raster — to_rast","text":"SpatRaster based sim_results object layers corresponding time_points","code":""},{"path":"https://popecol.github.io/rangr/reference/to_rast.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Transformation sim_results to raster — to_rast","text":"","code":"if (FALSE) {  # data preparation library(terra)  n1_small <- rast(system.file(\"input_maps/n1_small.tif\", package = \"rangr\")) K_small <- rast(system.file(\"input_maps/K_small.tif\", package = \"rangr\"))  sim_data <- initialise(   n1_map = n1_small,   K_map = K_small,   r = log(2),   rate = 1 / 1e3 )  # simulation sim_1 <- sim(obj = sim_data, time = 100)  # raster construction my_rast <- to_rast(   sim_1,   time_points = c(1, 10, 20, 100),   template = sim_data$K_map )  # visualization plot(my_rast, range = range(sim_1$N_map, na.rm = TRUE))  }"},{"path":"https://popecol.github.io/rangr/reference/update.sim_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Update sim_data object — update.sim_data","title":"Update sim_data object — update.sim_data","text":"Update sim_data object","code":""},{"path":"https://popecol.github.io/rangr/reference/update.sim_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Update sim_data object — update.sim_data","text":"","code":"# S3 method for sim_data update(object, ..., evaluate = TRUE)"},{"path":"https://popecol.github.io/rangr/reference/update.sim_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Update sim_data object — update.sim_data","text":"object sim_data object; returned initialise function ... arguments passed methods; currently none specified evaluate logical vector length 1 TRUE evaluate new call else return call","code":""},{"path":"https://popecol.github.io/rangr/reference/update.sim_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Update sim_data object — update.sim_data","text":"evaluate = TRUE updated sim_data object, otherwise updated call.","code":""},{"path":"https://popecol.github.io/rangr/reference/update.sim_data.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Update sim_data object — update.sim_data","text":"","code":"if (FALSE) {  # data preparation library(terra) n1_small <- rast(system.file(\"input_maps/n1_small.tif\", package = \"rangr\")) K_small <- rast(system.file(\"input_maps/K_small.tif\", package = \"rangr\"))  sim_data_1 <- initialise(   n1_map = n1_small,   K_map = K_small,   r = log(2),   rate = 1 / 1e3 ) summary(sim_data_1)  sim_data_2 <- update(sim_data_1, max_dist = 3000) summary(sim_data_2)  }"}]
